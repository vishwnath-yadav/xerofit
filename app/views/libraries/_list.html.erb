<% if @move.present? %>
  <div class="col-sm-12">
    <ul class="library_list_view sortable_list">
      <li class="table_header">
        <% if params[:sorted_by].blank? || params[:sorted_by] == "updated_at"%>
          <span class="title_col column_sort" data-sort="title" data-order="<%=@order%>"><span>Name</span><div></div></span>
          <span class="type_col">Type</span>
          <span class="status_col">Status</span>
          <span class="date_col column_sort <%=@sort_arrow%>" data-sort="updated_at" data-order="<%=@order%>">Last Modified<div></div>
          </span>
        <% else %>
          <span class="title_col column_sort <%=@sort_arrow%>" data-sort="title" data-order="<%=@order%>"><span>Name</span><div></div></span>
          <span class="type_col">Type</span>
          <span class="status_col">Status</span>
          <span class="date_col column_sort" data-sort="updated_at" data-order="<%=@order%>">Last Modified<div></div>
          </span>
        <% end %>
      </li>

      <% @move.each_with_index do |mov, index| %>
        <li>
          <% if mov.move_type == Move::TYPE[2] %>
            <a href="<%= params[:user].blank? ? workout_details_path(mov) : workout_details_path(mov, user: params[:user]) %>" title="<%= mov.title %>" data-no-turbolink="true">
              <span class="title_col">
                <div class="library-thumbnail-container">
                  <% if mov.pic.present? %>
                    <figure class="workout-thumb" style="background-image: url(<%= mov.pic.url %>);"></figure>
                  <% else %>
                    <figure class="workout-thumb" style="background-image: url(/assets/ex_1.png);"></figure>
                  <% end %>
                </div>
                <span><%= truncate(mov.title, :length => 35, :seperator => ' ...') %></span>
              </span>
          <% else %>
            <a href="<%= params[:user].blank? ? edit_path(mov) :  edit_path(mov, user: params[:user]) %>" title="<%= mov.title %>" data-no-turbolink="true">
              <span class="title_col">
                <div class="library-thumbnail-container">
                  <% if mov.check_thumbnail() %>
                    <figure class="move-thumb" style="background-image: url(<%= mov.library_video.image %>);"></figure>
                  <% else %>
                    <figure class="move-thumb" style="background-image: url(/assets/ex_2.png);"></figure>
                  <% end %>
                </div>
                <span><%= truncate(mov.title, :length => 35, :seperator => ' ...') %></span>
              </span>
          <% end %>
            <span class="type_col"><%= mov.move_type.titleize.singularize %></span>
            <span class="status_col">
              <p class="library-status">
                  <span class="status-indicator <%= status_icon(mov.status)%>"></span>
                  <%= mov.status %>
              </p>
            </span>
            <span class="date_col"><%= mov.updated_at.strftime("%b %d, %Y %I:%M %p", ) %></span>
          </a>
        </li>
      <% end %>
    </ul>
  </div>
<% else %>
  <div class="empty-library">
    <h3>Your Fitness Library is empty!</h3>
    <span>Click the blue plus icon to start adding content.</span>
  </div>
<% end %>

<%= paginate @move, :remote => true %>